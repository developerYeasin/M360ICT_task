Employee Onboarding Multi-Step Form
This is a Next.js application for a multi-step employee onboarding form, built as a technical assessment. It features dynamic fields, cross-step dependencies, and advanced validation to ensure a smooth and accurate user experience.

ðŸš€ How to Run the Project
Follow these steps to get the project running on your local machine.

Clone the Repository

Bash

git clone <your-repository-url>
cd employee-onboarding-form
Install Dependencies
This project uses npm as the package manager.

Bash

npm install
Run the Development Server
This will start the application on http://localhost:3000.

Bash

npm run dev
The application should now be running in your browser.

ðŸ§  Handling Complex Logic
The core challenge of this project was managing state and validation across a multi-step process where fields in later steps depended on values from earlier ones. Hereâ€™s a breakdown of the approach:

1. Centralized State Management
Instead of managing state separately for each step, the entire form is controlled by a single useForm hook from react-hook-form in the parent MultiStepForm component.

Single Source of Truth: This approach creates a single, unified state object for the entire form, making it easy to access any field's value from any step.

Performance: react-hook-form optimizes re-renders, so only the components that need to update will do so.

2. Dynamic UI and Cross-Step Dependencies
The UI dynamically changes based on user input. This was achieved using react-hook-form's watch API.

Conditional Rendering: The form.watch('fieldName') hook was used to listen for changes to specific fields. For example:

In Step 2, watching jobType determines whether to show the "Annual Salary" or "Hourly Rate" input field.

In Step 4, watching dateOfBirth from Step 1 allows for an on-the-fly age calculation, which conditionally renders the "Guardian Contact" section.

Dynamic Data Filtering: The same watch hook was used to filter the mock data:

In Step 2, the Manager dropdown is populated by filtering mockManagers based on the watched value of the department field.

In Step 3, the list of Skills checkboxes is generated by looking up the correct skill array in the skillsByDepartment object using the department value from Step 2.

3. Advanced Validation with Zod
Zod was used to handle all validation, from simple required fields to complex, conditional business rules.

Schema per Step: Each step has its own Zod schema, which are then merged into a single masterFormSchema. This keeps the validation logic organized.

Conditional Validation with .superRefine(): For rules that depend on other fields, .superRefine() was essential. For instance, it checks the jobType and then applies the correct salary range validation to either the salary or hourlyRate field.

Cross-Step Validation: The most complex validation was ensuring the "Guardian Contact" fields in Step 4 were required if the employee's age (calculated from dateOfBirth in Step 1) was under 21. This was solved by applying a final .superRefine() to the fully merged masterFormSchema, which gives the validation logic access to every field across all steps simultaneously.

Step-by-Step Validation: To prevent users from advancing with errors, the form.trigger() method is called in the next() function. It validates only the fields relevant to the current step before allowing the user to proceed.

âœ… Assumptions Made
During development, a few assumptions were made to proceed with the implementation:

Weekend Definition: The task mentioned that the start date for HR/Finance cannot be on a weekend (Friday and Saturday). I have interpreted this based on a common work week in many regions and specifically implemented the check for Friday (day 5) and Saturday (day 6).

Age Calculation: The age is calculated based on the Date of Birth to the current date. The logic correctly handles month and day differences, not just the year.

UI Component Choices: For the "Manager" field, a searchable Select component was used. This is a reasonable UX choice for a potentially long list of managers.

Form State Persistence: The prompt specified using local React state and not localStorage. The current implementation adheres to this, meaning the form state will reset on a page refresh.

Final Data Structure: It is assumed that the final output of the form should be a single, flat JSON object containing all the collected data, which is what react-hook-form provides upon successful submission.
